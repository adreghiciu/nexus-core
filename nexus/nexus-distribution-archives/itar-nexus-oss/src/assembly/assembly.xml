<?xml version="1.0" encoding="UTF-8"?>

<assembly>
  <id></id>
  <formats>
    <format>zip</format>
  </formats>
  <includeBaseDirectory>false</includeBaseDirectory>
  <fileSets>
    <fileSet>
      <directory>${assembly.directory}</directory>
      <outputDirectory>/</outputDirectory>
    </fileSet>    
    <fileSet>
      <directory>${nexus.unpack.dir}/nexus-webapp-${project.version}/runtime/apps/nexus/lib</directory>
      <outputDirectory>data/${libraryDir}</outputDirectory>
      <excludes>
        <exclude>plexus-app-booter-*</exclude>
        <exclude>plexus-container-default-*</exclude>
        <exclude>plexus-jsw-app-booter-*</exclude>
        <exclude>atinject-*</exclude>
        <exclude>google-collect-*</exclude>
        <exclude>nexus-plugin-api-*</exclude>
        <exclude>nexus-plugin-manager-*</exclude>
        <exclude>reflect-class-descriptor-*</exclude>
        <exclude>plugin-gleaner-*</exclude>
        <exclude>xbean-reflect-*</exclude>
        <exclude>nexus-oss-edition-*</exclude>
      </excludes>
    </fileSet>
    <fileSet>
      <directory>${nexus.unpack.dir}/nexus-webapp-${project.version}/runtime/apps/nexus/conf</directory>
      <outputDirectory>data/${appConfDir}</outputDirectory>
    </fileSet>
    <fileSet>
      <directory>${nexus.unpack.dir}/nexus-webapp-${project.version}/runtime/apps/nexus/webapp</directory>
      <outputDirectory>data/${webAppDir}</outputDirectory>
    </fileSet>
    <fileSet>
      <directory>${nexus.unpack.dir}/nexus-webapp-${project.version}</directory>
      <outputDirectory>data/${runtimeDir}</outputDirectory>
      <includes>
        <include>*.txt</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>${nexus.unpack.dir}/nexus-webapp-${project.version}/runtime/apps/nexus</directory>
      <outputDirectory>data/${applicationDir}</outputDirectory>
      <includes>
        <include>*.txt</include>
      </includes>
    </fileSet>    
  </fileSets>
</assembly>
